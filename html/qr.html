<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Document</title>
    <script src="../assets/js/main.js"></script>
    <link rel="stylesheet" href="../assets/css/common.min.css">
</head>
<body>
    <div id="wrap">
        <div class="inner">
            <div class="contents">
                <div class="w_240 ml_auto mr_auto">
                    <div class="qr_box">
                        <img src="../assets/img/QR_Code_example.png" alt="">
                    </div>
                    <!-- <a href="../assets/img/QR_code_for_mobile_English_Wikipedia.svg" target="_top" class="f_btn ty_big _red w100 mt15"  download="ImageName" title="ImageName">
                        QR코드 다운로드
                    </a> -->
                    <button type="button" class="f_btn ty_big _red w100 mt15" data-href="../assets/img/QR_Code_example.png" download="qrcode.png" onclick="forceDownload(this)">QR코드 다운로드</button>
                </div>
               


                <div class="use_process">
                    <h3 class="tit">1 DAY PASS 이용방법</h3>
                    <ul class="use_process_list">
                        <li>생성된 이용자 개인별 QR코드로 출입합니다. <br> <span class="fc_red fw_500">(QR코드를 꼭 저장해주세요!)</span>  </li>
                        <li>1개의 QR코드로 2인 이상 출입시 보안상의 이유로 갑자기 사용이 중지될 수 있습니다.</li>
                        <li>익일 새벽 5시까지 자유출입 가능합니다.</li>
                    </ul>
                </div>
                
            </div>
        </div>
    </div>
    <script>
     

        function forceDownload(link){
            var url = link.getAttribute("data-href");
            var fileName = link.getAttribute("download");
            //link.innerText = "Working...";
            var xhr = new XMLHttpRequest();
            xhr.open("GET", url, true);
            xhr.responseType = "blob";
            xhr.onload = function(){
                var urlCreator = window.URL || window.webkitURL;
                var imageUrl = urlCreator.createObjectURL(this.response);
                var tag = document.createElement('a');
                tag.href = imageUrl;
                tag.download = fileName;
                document.body.appendChild(tag);
                tag.click();
                document.body.removeChild(tag);
                //link.innerText="QR코드 다운로드 완료";
            }
            xhr.send();
        }
    </script>
</body>
</html>